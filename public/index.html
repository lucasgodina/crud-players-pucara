<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CRUD Players - Pucará Esports</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      .card-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
      }
      .btn-primary:hover {
        background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
      }
      .navbar {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
      }
      .player-card {
        transition: transform 0.2s;
      }
      .player-card:hover {
        transform: translateY(-5px);
      }
      .team-badge {
        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 0.375rem;
        font-size: 0.75rem;
      }
      .free-agent-badge {
        background: linear-gradient(135deg, #55a3ff 0%, #003d82 100%);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 0.375rem;
        font-size: 0.75rem;
      }
    </style>
  </head>
  <body class="bg-light">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">
          <i class="bi bi-controller"></i> Pucará Esports CRUD
        </a>
      </div>
    </nav>

    <div class="container mt-4">
      <!-- Alert Container -->
      <div id="alertContainer"></div>

      <!-- Tabs -->
      <ul class="nav nav-tabs" id="mainTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="teams-tab"
            data-bs-toggle="tab"
            data-bs-target="#teams"
            type="button"
            role="tab"
          >
            <i class="bi bi-people"></i> Equipos
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="players-tab"
            data-bs-toggle="tab"
            data-bs-target="#players"
            type="button"
            role="tab"
          >
            <i class="bi bi-person"></i> Jugadores
          </button>
        </li>
      </ul>

      <div class="tab-content" id="mainTabContent">
        <!-- Teams Tab -->
        <div class="tab-pane fade show active" id="teams" role="tabpanel">
          <div class="card mt-3">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0"><i class="bi bi-people"></i> Gestión de Equipos</h5>
              <button class="btn btn-light btn-sm" onclick="showCreateTeamModal()">
                <i class="bi bi-plus"></i> Nuevo Equipo
              </button>
            </div>
            <div class="card-body">
              <div id="teamsContainer" class="row">
                <!-- Teams will be loaded here -->
              </div>
            </div>
          </div>
        </div>

        <!-- Players Tab -->
        <div class="tab-pane fade" id="players" role="tabpanel">
          <div class="card mt-3">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0"><i class="bi bi-person"></i> Gestión de Jugadores</h5>
              <div>
                <button class="btn btn-outline-light btn-sm me-2" onclick="filterPlayers('free')">
                  <i class="bi bi-filter"></i> Agentes Libres
                </button>
                <button class="btn btn-outline-light btn-sm me-2" onclick="filterPlayers('all')">
                  <i class="bi bi-people"></i> Todos
                </button>
                <button class="btn btn-light btn-sm" onclick="showCreatePlayerModal()">
                  <i class="bi bi-plus"></i> Nuevo Jugador
                </button>
              </div>
            </div>
            <div class="card-body">
              <div id="playersContainer" class="row">
                <!-- Players will be loaded here -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Create Team Modal -->
    <div class="modal fade" id="createTeamModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Crear Nuevo Equipo</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="teamForm">
              <div class="mb-3">
                <label for="teamName" class="form-label">Nombre del Equipo *</label>
                <input type="text" class="form-control" id="teamName" required />
              </div>
              <div class="mb-3">
                <label for="teamDescription" class="form-label">Descripción</label>
                <textarea class="form-control" id="teamDescription" rows="3"></textarea>
              </div>
              <div class="mb-3">
                <label for="teamAchievements" class="form-label">Logros (JSON)</label>
                <textarea
                  class="form-control"
                  id="teamAchievements"
                  rows="3"
                  placeholder='{"Torneo 2024": "Campeón", "Liga Regional": "2do Lugar"}'
                ></textarea>
                <div class="form-text">Formato JSON opcional para logros del equipo</div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              Cancelar
            </button>
            <button type="button" class="btn btn-primary" onclick="createTeam()">
              Crear Equipo
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Create Player Modal -->
    <div class="modal fade" id="createPlayerModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Crear Nuevo Jugador</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="playerForm">
              <div class="mb-3">
                <label for="playerName" class="form-label">Nombre del Jugador *</label>
                <input type="text" class="form-control" id="playerName" required />
              </div>
              <div class="mb-3">
                <label for="playerTeam" class="form-label">Equipo</label>
                <select class="form-select" id="playerTeam">
                  <option value="">Sin equipo (Agente Libre)</option>
                  <!-- Teams will be loaded here -->
                </select>
              </div>
              <div class="mb-3">
                <label for="playerBio" class="form-label">Biografía</label>
                <textarea class="form-control" id="playerBio" rows="3"></textarea>
              </div>
              <div class="mb-3">
                <label for="playerPhotoUrl" class="form-label">URL de Foto</label>
                <input
                  type="url"
                  class="form-control"
                  id="playerPhotoUrl"
                  placeholder="https://example.com/photo.jpg"
                />
              </div>
              <div class="mb-3">
                <label for="playerStats" class="form-label">Estadísticas (JSON)</label>
                <textarea
                  class="form-control"
                  id="playerStats"
                  rows="3"
                  placeholder='{"KDA": "5.2", "Role": "Mid", "Champion": "Yasuo"}'
                ></textarea>
                <div class="form-text">Formato JSON opcional para estadísticas</div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              Cancelar
            </button>
            <button type="button" class="btn btn-primary" onclick="createPlayer()">
              Crear Jugador
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
